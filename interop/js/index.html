<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
</head>
<body>
    <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
    <script>
        
        var peer = new Peer("peerjs", {
            host: "localhost",
            port: 9000,
            path: "/myapp",
            secure: false,
            debug: 3,
            serialization: null,
        });

        peer.on('open', function (id) {
            console.log('My peer ID is: ' + id);
        });

        peer.on('error', function (err) {
            console.error("err", err);
        });

        var conn = peer.connect('peer2');
        conn.on('open', function () {
            // Receive messages
            // conn.on('data', function (data) {
            //     console.log('Received', data);
            // });
            // Send messages
            setInterval(() => conn.send('Hello!'), 1000)
        });



    </script>
</body>
</html>